<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Image Swap</title>
    <style>
        body, html {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            overflow: hidden; /* Prevents any scrollbars */
        }

        #imageContainer {
            position: relative;
            width: 100vw;  /* Full viewport width */
            height: 100vh; /* Full viewport height */
        }

        #imageContainer img {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: contain; /* This will ensure that the aspect ratio of the image is maintained while it scales */
}

        #topImage {
            z-index: 1;
        }

        #bottomImage {
            z-index: 0;
        }
    </style>
</head>

<body>
  
  <svg style="visibility: hidden; position: absolute;" width="0" height="0" xmlns="http://www.w3.org/2000/svg">
    <filter id="blurFilter">
        <feGaussianBlur in="SourceGraphic" stdDeviation="10" />
    </filter>
  </svg>

<div id="imageContainer"
     onmousemove="revealCircle(event)"
		 onmouseleave="restoreClip()">
    <img id="topImage" src="upper-image.jpg" alt="Top Image" ondblclick="swapZIndex()">
    <img id="bottomImage" src="lower-image.jpg" alt="Bottom Image" ondblclick="swapZIndex()">
</div>

<script>
function swapZIndex() {
    const topImage = document.getElementById('topImage');
    const bottomImage = document.getElementById('bottomImage');

    if (parseInt(topImage.style.zIndex, 10) === 1) {
        topImage.style.zIndex = 0;
        bottomImage.style.zIndex = 1;
        
        // Move the clip-path to the new top image (bottomImage)
        bottomImage.style.clipPath = topImage.style.clipPath;
        topImage.style.clipPath = '';

    } else {
        topImage.style.zIndex = 1;
        bottomImage.style.zIndex = 0;

        // Move the clip-path to the new top image (topImage)
        topImage.style.clipPath = bottomImage.style.clipPath;
        bottomImage.style.clipPath = '';
    }
}


    function revealCircle(event) {
        const circleRadius = 100; 
        const topImage = document.getElementById('topImage');
        const bottomImage = document.getElementById('bottomImage');

        const x = (event.clientX / window.innerWidth) * 100;
        const y = (event.clientY / window.innerHeight) * 100;
        
        if (parseInt(topImage.style.zIndex, 10) === 1) {
            topImage.style.clipPath = `circle(${circleRadius}px at ${x}% ${y}%)`;
            bottomImage.style.clipPath = '';
        } else {
            bottomImage.style.clipPath = `circle(${circleRadius}px at ${x}% ${y}%)`;
            topImage.style.clipPath = '';
        }
    }

    function removeReveal() {
        const topImage = document.getElementById('topImage');
        const bottomImage = document.getElementById('bottomImage');

        topImage.style.clipPath = '';
        bottomImage.style.clipPath = '';
    }
</script>

</body>
</html>
